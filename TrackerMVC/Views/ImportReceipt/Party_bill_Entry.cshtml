
@{
    ViewBag.Title = "Party_bill_Entry";
    Layout = "~/Views/Shared/_LayoutDashboard.cshtml";
}
<style>
    .table th {
        background-color: #7bc144 !important;
        color: white;
    }
</style>
<script src="~/js/GetTableJsonwopaging.js"></script>

<div id="tracker-loader"></div>

<div class="content-area overflow-hidden" id="divadddebitDetails">
    <div>
        <div class="page-header">
            <h4 class="page-title">Party Debit bill Entry</h4>
            <div class="form-group">
                <label class="form-label"></label>
                <div class="row gutters-xs">
                    <div class="col">

                        <button type="button" class="btn btn-icon btn-teal" name="summarylist" title="Summary list" id="summarylist" onclick="Getsummaryreport();"><i class="fa fa-file-text"></i></button>


                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 col-lg-12">
                <div class="card">
                    <div class="card-body p-6">

                        <div class="row">
                            <div class="col-lg-3 col-sm-12">
                                <div class="form-group">
                                    <label class="form-label mandatory">Debit No New</label>
                                    <div class="row gutters-xs">
                                        <div class="col">
                                            @Html.TextBox("TxtDriverName", null, new { @class = "form-control", @id = "TxtDriverName", @name = "TxtDriverName", autocomplete = "off", @readonly = true })
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-sm-12">
                                <div class="form-group">
                                    <label class="form-label mandatory">Debit Date</label>
                                    <div class="row gutters-xs">
                                        <div class="col">
                                            @Html.TextBox("TxtDebitDate", null, new { @class = "form-control form_datetime1", @id = "TxtDebitDate", name = "TxtDebitDate", autocomplete = "on", @Value = DateTime.Now.AddDays(1).ToString("dd MMM yyyy hh:mm") })

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-3 col-sm-12">
                                <div class="form-group">
                                    <label class="form-label mandatory">Reference Debit No</label>
                                    <div class="row gutters-xs">
                                        <div class="col">
                                            @Html.TextBox("Txtreferenceno", null, new { @class = "form-control", @id = "Txtreferenceno", @name = "Txtreferenceno", autocomplete = "off", Style = "text-transform:uppercase;font-weight: bold" })
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-sm-12">
                                <div class="form-group">
                                    <label class="form-label mandatory">Debit Date</label>
                                    <div class="row gutters-xs">
                                        <div class="col">
                                            @Html.TextBox("txtAddpermitdate", null, new { @class = "form-control form_datetime1", @id = "txtAddpermitdate", name = "txtAddpermitdate", autocomplete = "on", @Value = DateTime.Now.AddDays(1).ToString("dd MMM yyyy hh:mm") })


                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-3 col-sm-12">
                                <div class="form-group">
                                    <label class="form-label mandatory">Customer</label>
                                    <div class="row gutters-xs">
                                        <div class="col">
                                            <input type="text" class="form-control" id="ddlCustomerName" onblur="GetGstno()" />
                                            <input type="hidden" class="form-control" id="hdnCustomerName" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-sm-12">
                                <div class="form-group">
                                    <label class="form-label mandatory">GST No</label>
                                    <div class="row gutters-xs">
                                        <div class="col">
                                            @Html.TextBox("TxtGstno", null, new { @class = "form-control", @id = "TxtGstno", @name = "TxtGstno", autocomplete = "off", Style = "font-weight: bold" })
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-6 col-sm-12">
                                <div class="form-group">
                                    <label class="form-label mandatory">Description</label>
                                    <div class="row gutters-xs">
                                        <div class="col">
                                            @Html.TextArea("TxtDescription", null, new { @class = "form-control", @id = "TxtDescription", @name = "TxtDescription", autocomplete = "off", Style = "font-weight: bold" })

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-3 col-sm-12">
                                <div class="form-group">
                                    <label class="form-label mandatory">HSN/Code</label>
                                    <div class="row gutters-xs">
                                        <div class="col">
                                            @Html.TextBox("TxtHSnCode", null, new { @class = "form-control", @id = "TxtHSnCode", @name = "TxtHSnCode", autocomplete = "off", Style = "font-weight: bold" })
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-sm-12">
                                <div class="form-group">
                                    <label class="form-label mandatory">Net Amount</label>
                                    <div class="row gutters-xs">
                                        <div class="col">
                                            @Html.TextBox("TXtNewAmount", null, new { @class = "form-control", @id = "TXtNewAmount", @name = "TXtNewAmount", autocomplete = "off", @type = "number", Style = "font-weight: bold" })

                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-1 col-lg-1">
                                <label class="form-label" style="visibility:hidden">Save</label>
                                <div class="form-group label-floating">
                                    <button class="btn btn-primary " type="button" id="Add" onclick="AddDetails()" name="Add">Add</button>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 col-lg-12">
                                <div>
                                    <label class="form-label">Details </label>
                                </div>
                                <div class="table-responsive">
                                    <table class="table table-striped table-bordered" id="example" style="width:100%">
                                        <thead>
                                            <tr>
                                                <th class="wd-15p sorting">Reference Debit No.</th>
                                                <th class="sorting">Date</th>
                                                <th class="wd-15p sorting">Customer</th>
                                                <th class="wd-15p sorting">GST No.</th>
                                                <th class="wd-15p sorting">Description</th>
                                                <th class="wd-15p sorting">HSN/Code</th>
                                                <th class="wd-10p sorting">Net Amount</th>
                                                <th>Common ID</th>
                                                <th></th>

                                            </tr>
                                        </thead>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-12 col-lg-8"></div>
                            <div class="col-sm-12 col-lg-2">
                                <label class="form-label">Net Total</label>
                            </div>
                            <div class="col-sm-12 col-lg-2">
                                <div class="form-group label-floating">
                                    @Html.TextBox("TxtnetTotalamount", null, new { @class = "form-control", @id = "TxtnetTotalamount", name = "TxtnetTotalamount", autocomplete = "off", rows = "2", @maxlength = 500, @readonly = true, Style = "font-weight: bold" })
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 col-lg-8"></div>
                            <div class="col-sm-12 col-lg-2">
                                <label class="form-label">Cgst</label>
                            </div>
                            <div class="col-sm-12 col-lg-2">
                                <div class="form-group label-floating">
                                    @Html.TextBox("TxtCgst", null, new { @class = "form-control", @id = "TxtCgst", name = "TxtCgst", autocomplete = "off", rows = "2", @maxlength = 500, OnChange = "calculateGrandtotal()", @type = "number", Style = "font-weight: bold" })
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 col-lg-8"></div>
                            <div class="col-sm-12 col-lg-2">
                                <label class="form-label">IGST</label>
                            </div>
                            <div class="col-sm-12 col-lg-2">
                                <div class="form-group label-floating">
                                    @Html.TextBox("TxtIGST", null, new { @class = "form-control", @id = "TxtIGST", name = "TxtIGST", autocomplete = "off", rows = "2", @maxlength = 500, OnChange = "calculateGrandtotal()", @type = "number", Style = "font-weight: bold" })
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 col-lg-8"></div>
                            <div class="col-sm-12 col-lg-2">
                                <label class="form-label">SGST</label>
                            </div>
                            <div class="col-sm-12 col-lg-2">
                                <div class="form-group label-floating">
                                    @Html.TextBox("TxtGST", null, new { @class = "form-control", @id = "TxtGST", name = "TxtGST", autocomplete = "off", rows = "2", @maxlength = 500, OnChange = "calculateGrandtotal()", @type = "number", Style = "font-weight: bold" })
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 col-lg-8"></div>
                            <div class="col-sm-12 col-lg-2">
                                <label class="form-label">Grand Total</label>
                            </div>
                            <div class="col-sm-12 col-lg-2">
                                <div class="form-group label-floating">
                                    @Html.TextBox("TxtGrandtotal", null, new { @class = "form-control", @id = "TxtGrandtotal", name = "TxtGrandtotal", autocomplete = "off", rows = "2", @maxlength = 500, @readonly = true, Style = "font-weight: bold" })
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-3 col-sm-12">
                            <div class="form-group">
                                <label class="form-label mandatory">Debit in Account</label>
                                <div class="row gutters-xs">
                                    <div class="col">
                                        <input type="text" class="form-control" id="TxtDebitInaccount" />
                                        <input type="hidden" class="form-control" id="hdnTxtDebitInaccount" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6 col-sm-12">
                            <div class="form-group">
                                <label class="form-label mandatory">Remarks</label>
                                <div class="row gutters-xs">
                                    <div class="col">
                                        @Html.TextArea("TxtRemarks", null, new { @class = "form-control", @id = "TxtRemarks", @name = "TxtRemarks", autocomplete = "off" })

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-3 col-sm-12">
                                <div class="form-group">
                                    <label class="form-label mandatory" style="visibility:hidden">Description</label>
                                    <div class="row gutters-xs">
                                        <div class="col">
                                            <button class="btn btn-success " type="button" id="Add" onclick="SaveDetails()" name="Add">Save</button>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<div class=" content-area" id="divviewsummary" style="display:none">
    <div class="page-header">
        <h4 class="page-title">Party Debit bill Summary</h4>
        <div class="ibox-content  text-right">
            <a onclick="getBack();" class="btn btn-primary btn-success" style="color:white;align-content:center;"><i class="fa fa-arrow-left" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Back"></i>  </a></li>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12 col-lg-12">
            <div class="card">
                <div class="card-body">
                    <div class="form-horizontal">

                        <div class="row">
                            <div class="col-lg-2 col-sm-12">
                                <div class="form-group">
                                    <label class="form-label">From Date</label>
                                    <div class="row gutters-xs">
                                        <div class="col">
                                            @Html.TextBox("FromDate", null, new { @class = "form-control form_datetime1", @Value = DateTime.Now.AddDays(-1).ToString("dd MMM yyyy 08:00") })

                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-2 col-sm-12">
                                <div class="form-group">
                                    <label class="form-label"> To Date</label>
                                    <div class="row gutters-xs">
                                        <div class="col">
                                            @Html.TextBox("ToDate", null, new { @class = "form-control form_datetime1", @Value = DateTime.Now.ToString("dd MMM yyyy 23:59") })

                                        </div>

                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-2 col-sm-12">
                                <div class="form-group">
                                    <label class="form-label" style="visibility:hidden">.</label>
                                    <div class="row gutters-xs">
                                        <div class="col">
                                            <input type="button" id="btnShow" value="Show" class="btn btn-primary" onclick="ViewSummaryreport()" />

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>



                    </div>

                    @Html.ActionLink("Export To Excel", "ExportToExcelDebitBillDetails", null, new { @class = "btn btn-primary btn-md" })
                    <div class="row">
                        <div class="col-lg-12 col-sm-12">
                            <div class="table-responsive">
                                <table id="example2" class="table table-bordered table-hover tbl-cart text-nowrap" style="width:100%">
                                    <thead>

                                        <tr></tr>
                                    </thead>

                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<script>
    var storeAddedItem = [];
    function AddDetails() {

    var element = {};

    element.DEbitRefernceno = $("#Txtreferenceno").val();
    element.debitdate = $("#txtAddpermitdate").val()
        element.Customername = $("#ddlCustomerName").val();

    element.GSTNo = $("#TxtGstno").val();
    element.Description = $("#TxtDescription").val();
    element.HSNCode = $("#TxtHSnCode").val();
    element.Netamount = $("#TXtNewAmount").val();
        element.CustomerNameID = $("#hdnCustomerName").val();
        storeAddedItem.push(element);

    $('#example').DataTable({
        "destroy": true,
        "bLengthChange": false,
        "aaData": storeAddedItem,
        "bPaginate": false,
        "bInfo": false,
        "paging": false,
        "columns": [
            { "data": "DEbitRefernceno" },
            { "data": "debitdate" },
            { "data": "Customername" },
            { "data": "GSTNo" },
            { "data": "Description" },
            { "data": "HSNCode" },
            { "data": "Netamount" },
            { "data": "CustomerNameID" },
            {
                "data": "DEbitRefernceno",
                "orderable": false,
                "render": function (data, type, row, meta) {
                    if (type === 'display') {
                        data = "<button type=\"button\" class=\"btn btn-icon btn-primary btn-danger removebutton \" name=\"removebutton\" style=\"height:35px;\" onclick=\"deleteSelecetedItem('" + row.DEbitRefernceno + "')\"><i class=\"fe fe-trash\" style=\"font-size: 16px;\"></i></button>"
                    }
                    return data;
                }
            }
        ]
        });

        CalculateTotalAmount();
    }


    function deleteSelecetedItem(DEbitRefernceno) {
        for (i = 0; i < storeAddedItem.length; i++) {
            if (this.storeAddedItem[i].DEbitRefernceno == DEbitRefernceno) {
                storeAddedItem.splice(i, 1);
            }
        }
        $('#example').DataTable({
            "destroy": true,
            "bLengthChange": false,
            "aaData": storeAddedItem,
            "bPaginate": false,
            "bInfo": false,
            "paging": false,
            "columns": [
                { "data": "DEbitRefernceno" },
                { "data": "debitdate" },
                { "data": "Customername" },
                { "data": "GSTNo" },
                { "data": "Description" },
                { "data": "HSNCode" },
                { "data": "Netamount" },
                { "data": "CustomerNameID" },
                {
                    "data": "DEbitRefernceno",
                    "orderable": false,
                    "render": function (data, type, row, meta) {
                        if (type === 'display') {
                            data = "<button type=\"button\" class=\"btn btn-icon btn-primary btn-danger removebutton \" name=\"removebutton\" style=\"height:35px;\" onclick=\"deleteSelecetedItem('" + row.DEbitRefernceno + "')\"><i class=\"fe fe-trash\" style=\"font-size: 16px;\"></i></button>"
                        }
                        return data;
                    }
                }
            ]
        });
    }



    function SaveDetails() {

        var res = validate();
        if (res == false) {
            return false;
        }

         var NetAmount = $("#TxtnetTotalamount").val();
         var CGST = $("#TxtCgst").val();
         var GST = $("#TxtGST").val();
         var GrandTotal = $("#TxtGrandtotal").val();
         var DebitAcoount = $("#TxtDebitInaccount").val();
         var Remark = $("#TxtRemarks").val();
        var DebitID = $("#hdnTxtDebitInaccount").val();
        var DebitDateList = $("#TxtDebitDate").val();
        var DebitReferenceNo = $("#Txtreferenceno").val();
        var GSTNo = $("#TxtGstno").val();
        var IGST = $("#TxtIGST").val();
        var itemcount = checkItemcount();

        if (itemcount == false) {
        alert("please add atleast one row in table")}
           else{

            var SelectedData = new Array();
            var tablearray = new Array();

            var table = document.getElementById("example");

            var row;
            for (var i = 1; i < table.rows.length; i++) {

                row = table.rows[i];
                   Debitreferenceno = row.cells[0].innerText;
                    DebitDate = row.cells[1].innerText;
                    Customername = row.cells[2].innerText;
                    GstNo = row.cells[3].innerText;
                    Descriptionno = row.cells[4].innerText;
                    HSNNo = row.cells[5].innerText;
                Netamount = row.cells[6].innerText;
                CustomerNameID = row.cells[7].innerText;


                SelectedData.push({
                    'Debitreferenceno': Debitreferenceno, 'DebitDate': DebitDate, 'Customername': Customername,
                    'GstNo': GstNo, 'Descriptionno': Descriptionno, 'HSNNo': HSNNo, 'Netamount': Netamount, 'CustomerNameID': CustomerNameID
                })
            }

            var data1 = {
                'Debitdata': SelectedData, 'NetAmount': NetAmount, 'CGST': CGST, 'GST': GST, 'GrandTotal': GrandTotal,
                'DebitAcoount': DebitAcoount, 'Remark': Remark, 'DebitID': DebitID, 'DebitDateList': DebitDateList, 'DebitReferenceNo': DebitReferenceNo, 'GSTNo': GSTNo, 'IGST': IGST
            };
            var data = JSON.stringify(data1);


                          $.ajax({
                              url: "/Importreceipt/SavePartyDebitEntryDetails",
                            data: data,
                            type: "POST",
                            contentType: "application/json; charset=utf-8",
                            dataType: "json",
                              success: function (data) {
                                  alert(data);
                                  document.location = '@Url.Action("Party_bill_Entry", "Importreceipt")';
                            },
                            error: function (errormessage) {
                                alert(errormessage.responseText);
                            }
                        });

        }
    }

    function checkItemcount() {

        var table = $('#example').DataTable();

        if (table.rows().count() == 0) {

            return false;
        }
        return true;

    }
</script>
<script>
    $(document).ready(function () {
        $("#ddlCustomerName").autocomplete({
            source: function (request, response) {
                $.ajax({
                    url: "/ImportReceipt/GetautpcompleteCustomer",
                    data: "{ 'prefixText': '" + request.term + "'}",
                    dataType: "json",
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    success: function (data) {
                        //debugger;
                        response($.map(data, function (item) {
                            //debugger;
                            return {
                                label: item.AGName,
                                val: item.AGID
                            };
                        }))
                    },
                    error: function (response) {
                        alert(response.responseText);
                    },
                    failure: function (response) {
                        alert(response.responseText);
                    }
                })
            },
            select: function (e, i) {
                debugger;

                $("#hdnCustomerName").val(i.item.val);
            },
            minLength: 1
        });

        $("#TxtDebitInaccount").autocomplete({
            source: function (request, response) {
                $.ajax({
                    url: "/ImportReceipt/GetautpcompleteDebitDetails",
                    data: "{ 'prefixText': '" + request.term + "'}",
                    dataType: "json",
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    success: function (data) {
                        //debugger;
                        response($.map(data, function (item) {
                            //debugger;
                            return {
                                label: item.GstuniqueName,
                                val: item.GSTuniqueid
                            };
                        }))
                    },
                    error: function (response) {
                        alert(response.responseText);
                    },
                    failure: function (response) {
                        alert(response.responseText);
                    }
                })
            },
            select: function (e, i) {
                //debugger;
                $("#hdnTxtDebitInaccount").val(i.item.val);
            },
            minLength: 1
        });
    });

</script>
<script>
    function validate() {


        var debitrfno = document.getElementById('Txtreferenceno').value;
        var AddDebirDate = document.getElementById('txtAddpermitdate').value;
        var CustomerName = document.getElementById('ddlCustomerName').value;
        var GSTno = document.getElementById('TxtGstno').value;
        var Description = document.getElementById('TxtDescription').value;
        var HSNCode = document.getElementById('TxtHSnCode').value;
        var NetAmount = document.getElementById('TXtNewAmount').value;
        var NetAmount1 = document.getElementById('TxtnetTotalamount').value;
        var CGST = document.getElementById('TxtCgst').value;
        var GST = document.getElementById('TxtGST').value;
        var GrandTotal = document.getElementById('TxtGrandtotal').value;
        var Remark = document.getElementById('TxtRemarks').value;


        var B1result = Boolean;
        B1result = true;

        document.getElementById('Txtreferenceno').style.borderColor = "Gainsboro";
        document.getElementById('txtAddpermitdate').style.borderColor = "Gainsboro";
        document.getElementById('ddlCustomerName').style.borderColor = "Gainsboro";
        document.getElementById('TxtGstno').style.borderColor = "Gainsboro";
        document.getElementById('TxtDescription').style.borderColor = "Gainsboro";
        document.getElementById('TxtHSnCode').style.borderColor = "Gainsboro";
        document.getElementById('TXtNewAmount').style.borderColor = "Gainsboro";
        document.getElementById('TxtnetTotalamount').style.borderColor = "Gainsboro";
        document.getElementById('TxtCgst').style.borderColor = "Gainsboro";
        document.getElementById('TxtGST').style.borderColor = "Gainsboro";
        document.getElementById('TxtGrandtotal').style.borderColor = "Gainsboro";
        document.getElementById('TxtRemarks').style.borderColor = "Gainsboro";


        if (debitrfno == "") {
            document.getElementById('Txtreferenceno').style.borderColor = "red"
            B1result = B1result && false;
        }
        if (AddDebirDate == "") {
            document.getElementById('txtAddpermitdate').style.borderColor = "red"
            B1result = B1result && false;
        }
        if (CustomerName == "") {
            document.getElementById('ddlCustomerName').style.borderColor = "red"
            B1result = B1result && false;
        }
        if (GSTno == "") {
            document.getElementById('TxtGstno').style.borderColor = "red"
            B1result = B1result && false;
        }
        if (HSNCode == "") {
            document.getElementById('TxtHSnCode').style.borderColor = "red"
            B1result = B1result && false;
        }
        if (NetAmount == "") {
            document.getElementById('TXtNewAmount').style.borderColor = "red"
            B1result = B1result && false;
        }

        if (NetAmount1 == "") {
            document.getElementById('TxtnetTotalamount').style.borderColor = "red"
            B1result = B1result && false;
        }
        if (CGST == "") {
            document.getElementById('TxtCgst').style.borderColor = "red"
            B1result = B1result && false;
        }
        if (GST == "") {
            document.getElementById('TxtGST').style.borderColor = "red"
            B1result = B1result && false;
        }
        if (Remark == "") {
            document.getElementById('TxtRemarks').style.borderColor = "red"
            B1result = B1result && false;
        }
        if (Remark == "") {
            document.getElementById('TXtNewAmount').style.borderColor = "red"
            B1result = B1result && false;
        }



        if (B1result == false) {
            alert("Please fill the required fields!");
        }
        return B1result;
    }
</script>

<script>
    function CalculateTotalAmount() {
        var table = document.getElementById("example");
        var row;
        var COunt4 = 0;

        for (var i = 1; i < table.rows.length; i++) {
            row = table.rows[i];
            var Size = row.cells[6].innerText;
            var size1 = Size;
            COunt4 = COunt4 + Number(size1);
        }
        $("#TxtnetTotalamount").val(COunt4);
    }
</script>


<script>
    function calculateGrandtotal() {
        var CalNetamount = $("#TxtnetTotalamount").val();
        var CalGST = $("#TxtGST").val();
        var CalCGST = $("#TxtCgst").val();
        var CalIGST = $("#TxtIGST").val();

        totalGrandamount = parseFloat(CalNetamount) + parseFloat(CalGST) + parseFloat(CalCGST) + parseFloat(CalIGST);
        $("#TxtGrandtotal").val(totalGrandamount);


    }

    function GetGstno() {

        var gstID = $("#hdnCustomerName").val();
        var data1 = { 'gstID': gstID };
        var data = JSON.stringify(data1);
            $.ajax({
            url: "/Importreceipt/GetGSTNOForCustomer",
            data: data,
            type: "POST",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
                success: function (data) {

                    $("#TxtGstno").val(data);
                @*alert(data);
                document.location = '@Url.Action("Party_bill_Entry", "Importreceipt")';*@
            },
            error: function (errormessage) {
            alert(errormessage.responseText);
            }
            });
    }
</script>


<script>
    $(window).on("load", function (e) {
        $("#tracker-loader").fadeOut("slow");
    })
    function ViewSummaryreport() {
        $("#tracker-loader").fadeIn("slow");
        var FromDate = $("#FromDate").val();
        var ToDate = $("#ToDate").val();

        data1 = { 'FromDate': FromDate, 'ToDate': ToDate };
        data = JSON.stringify(data1);


        $.ajax({
            type: 'POST',
            url: '/ImportReceipt/AjaxGetDebitDetails',
            data: data,
            // data: "",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            async: true,
            success: function (jsonResult) {
                $("#example2").empty();
                RepTableDataJsonwopaging($("#example2"), jsonResult, "Voucher Details", "VoucherDetails_List");
                $("#tracker-loader").fadeOut("slow");
            },
            error: function (errormessage) {
                alert(errormessage.responseText);
                $("#tracker-loader").fadeOut("slow");
            }
        });
    }
</script>
<script>
    function Getsummaryreport() {
        $("#divviewsummary").show();
        $("#divadddebitDetails").hide();
    }

    function getBack() {
        $("#divviewsummary").hide();
        $("#divadddebitDetails").show();
    }


    function CancelDebitDetails(debitnoteno) {
        $("#tracker-loader").fadeIn("slow");
        var debitnoteno = debitnoteno;
        

        data1 = { 'debitnoteno': debitnoteno };
        data = JSON.stringify(data1);
        $.ajax({
            type: 'POST',
            url: '/ImportReceipt/CancelDebitEntryDetails',
            data: data,
            // data: "",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            async: true,
            success: function (jsonResult) {
                alert("record cancelled successfully!");
                $("#tracker-loader").fadeOut("slow");
            },
            error: function (errormessage) {
                alert(errormessage.responseText);
                $("#tracker-loader").fadeOut("slow");
            }
        });
    }
</script>